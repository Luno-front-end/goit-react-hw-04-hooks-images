{"version":3,"sources":["services/FetchAPI.js","components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Modal.js","components/Loader.js","components/Button.js","App.js","index.js"],"names":["api","imagesFetch","nameImage","page","imagesArray","fetch","then","r","ok","json","length","Promise","reject","Error","Searchbar","onSubmit","useState","setNameImage","keySearch","shortid","generate","className","e","preventDefault","trim","toast","error","type","id","autoComplete","autoFocus","placeholder","name","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGallery","arrayImages","map","Modal","onClose","children","useEffect","window","addEventListener","exitModal","removeEventListener","code","modalRoot","document","querySelector","createPortal","prototype","PropTypes","func","isRequired","string","LoaderFunc","color","height","width","Button","Finder","setImagesArray","loading","setLoading","selectedImage","setSelectedImage","setPage","showModal","setShowModal","setError","searchImagesFetch","Api","imagesArrayFetch","checkNewFetchImagesArray","hits","catch","finally","prevState","reset","currentImage","autoClose","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d47ef5ba.chunk.js","sourcesContent":["function imagesFetch(nameImage, page, imagesArray) {\r\n  const KEY = \"key=19055497-436f2f9143aedeb9fa32eebb3\";\r\n  const GENERAL_LINK = \"https://pixabay.com/api/\";\r\n\r\n  return fetch(\r\n    `${GENERAL_LINK}?${KEY}&q=${nameImage}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((r) => {\r\n    if (r.ok) {\r\n      return r.json();\r\n    }\r\n\r\n    if (imagesArray.length === 0) {\r\n      return Promise.reject(new Error(\"Картинки с таким именем отсутсвуют\"));\r\n    }\r\n  });\r\n}\r\nconst api = {\r\n  imagesFetch,\r\n};\r\n\r\nexport default api;\r\n","import { useState } from \"react\";\r\nimport shortid from \"shortid\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [nameImage, setNameImage] = useState(\"\");\r\n\r\n  const onValueInput = (e) => {\r\n    setNameImage(e.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const onSubmitFetch = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (nameImage.trim() === \"\") {\r\n      toast.error(\"Введіть будь ласка ім'я картинок.\");\r\n\r\n      return;\r\n    }\r\n    onSubmit(nameImage.trim());\r\n    setNameImage(\"\");\r\n  };\r\n  const keySearch = shortid.generate();\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={onSubmitFetch}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Пошук</span>\r\n        </button>\r\n        <input\r\n          id={keySearch}\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Пошук зображень та фото\"\r\n          name=\"name\"\r\n          value={nameImage}\r\n          onChange={onValueInput}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nexport default function ImageGalleryItem({\r\n  webformatURL,\r\n  tags,\r\n  largeImageURL,\r\n  onClick,\r\n}) {\r\n  return (\r\n    <li\r\n      onClick={() => onClick(largeImageURL, tags)}\r\n      className=\"ImageGalleryItem\"\r\n    >\r\n      <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"../styles/styles.css\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\n\r\nexport default function ImageGallery({ arrayImages, onSubmit }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {arrayImages.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          tags={tags}\r\n          largeImageURL={largeImageURL}\r\n          onClick={onSubmit}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  arrayImages: PropTypes.array.isRequired,\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nexport default function Modal({ onClose, children }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", exitModal);\r\n    return () => window.removeEventListener(\"keydown\", exitModal);\r\n  }, []);\r\n\r\n  const exitModal = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const modalRoot = document.querySelector(\"#modal-root\");\r\n\r\n  return createPortal(\r\n    <div className=\"Overlay\">\r\n      <div className=\"Modal\">{children}</div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nModal.prototype = {\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.string.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nexport default function LoaderFunc() {\r\n  return (\r\n    <div className=\"loader\">\r\n      <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={200} width={200} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"../styles/styles.css\";\r\n\r\nfunction Button({ children, onClick }) {\r\n  return (\r\n    <div className=\"containerBtn-loadMore\">\r\n      <button className=\"Button\" onClick={onClick}>\r\n        {children}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  children: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","// {PROPTYPES}\n// {Рефакторінг}\n\nimport { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Api from \"./services/FetchAPI\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGalleryItem from \"./components/ImageGallery\";\nimport Modal from \"./components/Modal\";\nimport Loader from \"./components/Loader\";\nimport Button from \"./components/Button\";\nimport \"./styles/styles.css\";\n\nexport default function Finder() {\n  const [nameImage, setNameImage] = useState(\"\");\n  const [imagesArray, setImagesArray] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (nameImage === \"\") {\n      return;\n    }\n    searchImagesFetch();\n  }, [nameImage]);\n\n  const searchImagesFetch = () => {\n    setLoading(true);\n\n    Api.imagesFetch(nameImage, page, imagesArray)\n      .then((imagesArrayFetch) =>\n        checkNewFetchImagesArray(imagesArrayFetch.hits)\n      )\n      .catch((error) => setError(error))\n      .finally(\n        () => setLoading(false),\n        setPage((prevState) => prevState + 1)\n      );\n  };\n\n  const checkNewFetchImagesArray = (imagesArrayFetch) => {\n    imagesArrayFetch === []\n      ? setImagesArray(imagesArrayFetch)\n      : setImagesArray((prevState) => [...prevState, ...imagesArrayFetch]);\n  };\n\n  const togleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const isHendleFormaSubmit = (nameImage) => {\n    reset();\n\n    setNameImage(nameImage);\n  };\n  const reset = () => {\n    setPage(1);\n    setImagesArray([]);\n  };\n\n  const isCurrentImage = (currentImage, tags) => {\n    setSelectedImage([currentImage, tags]);\n    setShowModal(true);\n  };\n  const scrollGallery = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }, 1000);\n  };\n\n  const onClickLoadMore = () => {\n    searchImagesFetch();\n    scrollGallery();\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={isHendleFormaSubmit} />\n      {/* {!nameImage && (\n        <div className=\"container-paragraphInfo\">\n          <p className=\"paragraphInfo\">\n            Відсутнє ім'я! Будь ласка введіть його в поле яке вище.\n          </p>\n        </div>\n      )} */}\n      {imagesArray.length === 0 && (\n        <div className=\"container-paragraphInfo\">\n          <p className=\"paragraphInfo\">\n            Таких картинок {`${nameImage}`} не знайдено або ви не ввели ім'я\n            картинок.\n          </p>\n        </div>\n      )}\n\n      {imagesArray && (\n        <ImageGalleryItem arrayImages={imagesArray} onSubmit={isCurrentImage} />\n      )}\n      {showModal && (\n        <Modal onClose={() => togleModal()}>\n          <img src={selectedImage[0]} alt={selectedImage[1]} />\n        </Modal>\n      )}\n\n      <ToastContainer autoClose={3000} />\n      {loading && <Loader />}\n\n      {imagesArray.length !== 0 && (\n        <Button onClick={onClickLoadMore}>Завантажити ще</Button>\n      )}\n    </>\n  );\n}\n\n// export default class Finder extends Component {\n//   state = {\n//     nameImage: \"\",\n//     imagesArray: [],\n//     loading: false,\n//     selectedImage: null,\n//     page: 1,\n//     showModal: false,\n//     error: null,\n//   };\n\n// componentDidUpdate(prevProps, prevState) {\n//   if (prevState.nameImage !== this.state.nameImage) {\n//     this.setState({\n//       page: 1,\n//       nameImage: this.state.nameImage,\n//       imagesArray: [],\n//     });\n//     this.searchImagesFetch();\n//   }\n// }\n// searchImagesFetch = () => {\n//   const { page, nameImage } = this.state;\n\n//   this.setState({ loading: true });\n\n//   Api.imagesFetch(nameImage, page)\n//     .then((imagesArrayFetch) =>\n//       this.checkNewFetchImagesArray(imagesArrayFetch.hits)\n//     )\n//     .catch((error) => this.setState({ error }))\n//     .finally(() =>\n//       this.setState((prevState) => ({\n//         loading: false,\n//         page: prevState.page + 1,\n//       }))\n//     );\n// };\n\n// checkNewFetchImagesArray = (imagesArrayFetch) => {\n//   imagesArrayFetch === []\n//     ? this.setState({\n//         imagesArray: imagesArrayFetch,\n//       })\n//     : this.setState((prevState) => ({\n//         imagesArray: [...prevState.imagesArray, ...imagesArrayFetch],\n//       }));\n// };\n\n// togleModal = () => {\n//   this.setState(({ showModal }) => ({ showModal: !showModal }));\n// };\n\n// isHendleFormaSubmit = (nameImage) => {\n//   this.setState({ nameImage });\n// };\n\n// isCurrentImage = (currentImage, tags) => {\n//   this.setState({\n//     selectedImage: [currentImage, tags],\n//     showModal: true,\n//   });\n// };\n// scrollGallery = () => {\n//   setTimeout(() => {\n//     window.scrollTo({\n//       top: document.documentElement.scrollHeight,\n//       behavior: \"smooth\",\n//     });\n//   }, 1000);\n// };\n\n// onClickLoadMore = () => {\n//   this.searchImagesFetch();\n//   this.scrollGallery();\n// };\n//   render() {\n//     const {\n//       loading,\n//       showModal,\n//       nameImage,\n//       imagesArray,\n//       selectedImage,\n//     } = this.state;\n//     return (\n//       <>\n//         <Searchbar onSubmit={this.isHendleFormaSubmit} />\n\n//         {imagesArray && (\n//           <ImageGalleryItem\n//             arrayImages={imagesArray}\n//             onSubmit={this.isCurrentImage}\n//           />\n//         )}\n//         {showModal && (\n//           <Modal onClose={() => this.togleModal()}>\n//             <img src={selectedImage[0]} alt={selectedImage[1]} />\n//           </Modal>\n//         )}\n//         {!nameImage && (\n//           <div className=\"container-paragraphInfo\">\n//             <p className=\"paragraphInfo\">\n//               Відсутнє ім'я! Будь ласка введіть його в поле яке вище.\n//             </p>\n//           </div>\n//         )}\n//         <ToastContainer autoClose={3000} />\n//         {loading && <Loader />}\n\n//         {imagesArray.length !== 0 && (\n//           <Button onClick={this.onClickLoadMore}>Завантажити ще</Button>\n//         )}\n//       </>\n//     );\n//   }\n// }\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport Finder from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Finder />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}