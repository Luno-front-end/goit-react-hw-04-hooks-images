(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{19:function(e,t,n){},5:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),o=n(3),i=n.n(o),s=(n(19),n(11)),u=n(4),l=n(9);n(20);var j={imagesFetch:function(e,t,n){return fetch("".concat("https://pixabay.com/api/","?").concat("key=19055497-436f2f9143aedeb9fa32eebb3","&q=").concat(e,"&page=").concat(t,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():0===n.length?Promise.reject(new Error("\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043e\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u044e\u0442")):void 0}))}},b=n(12),m=n.n(b);n(5);function h(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(u.a)(n,2),o=r[0],i=r[1],s=m.a.generate();return Object(c.jsx)("header",{className:"Searchbar",children:Object(c.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o.trim()),i("")):l.b.error("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u0456\u043c'\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a.")},children:[Object(c.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(c.jsx)("span",{className:"SearchForm-button-label",children:"\u041f\u043e\u0448\u0443\u043a"})}),Object(c.jsx)("input",{id:s,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"\u041f\u043e\u0448\u0443\u043a \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u044c \u0442\u0430 \u0444\u043e\u0442\u043e",name:"name",value:o,onChange:function(e){i(e.currentTarget.value.toLowerCase())}})]})})}function d(e){var t=e.webformatURL,n=e.tags,a=e.largeImageURL,r=e.onClick;return Object(c.jsx)("li",{onClick:function(){return r(a,n)},className:"ImageGalleryItem",children:Object(c.jsx)("img",{src:t,alt:n,className:"ImageGalleryItem-image"})})}function f(e){var t=e.arrayImages,n=e.onSubmit;return Object(c.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL,o=e.tags;return Object(c.jsx)(d,{webformatURL:a,tags:o,largeImageURL:r,onClick:n},t)}))})}var O=n(2),g=n.n(O);function p(e){var t=e.onClose,n=e.children;Object(a.useEffect)((function(){return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}),[]);var r=function(e){"Escape"===e.code&&t()},i=document.querySelector("#modal-root");return Object(o.createPortal)(Object(c.jsx)("div",{className:"Overlay",children:Object(c.jsx)("div",{className:"Modal",children:n})}),i)}p.prototype={onClose:g.a.func.isRequired,children:g.a.string.isRequired};var x=n(13),v=n.n(x);function S(){return Object(c.jsx)("div",{className:"loader",children:Object(c.jsx)(v.a,{type:"BallTriangle",color:"#00BFFF",height:200,width:200})})}var w=function(e){var t=e.children,n=e.onClick;return Object(c.jsx)("div",{className:"containerBtn-loadMore",children:Object(c.jsx)("button",{className:"Button",onClick:n,children:t})})};function y(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)([]),i=Object(u.a)(o,2),b=i[0],m=i[1],d=Object(a.useState)(!1),O=Object(u.a)(d,2),g=O[0],x=O[1],v=Object(a.useState)(null),y=Object(u.a)(v,2),N=y[0],k=y[1],C=Object(a.useState)(1),I=Object(u.a)(C,2),F=I[0],L=I[1],E=Object(a.useState)(!1),R=Object(u.a)(E,2),U=R[0],B=R[1],q=Object(a.useState)(null),T=Object(u.a)(q,2),G=(T[0],T[1]);Object(a.useEffect)((function(){""!==n&&M()}),[n]);var M=function(){x(!0),j.imagesFetch(n,F,b).then((function(e){return J(e.hits)})).catch((function(e){return G(e)})).finally((function(){return x(!1)}),L((function(e){return e+1})))},J=function(e){m(e===[]?e:function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})},P=function(){L(1),m([])};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(h,{onSubmit:function(e){P(),r(e)}}),0===b.length&&Object(c.jsx)("div",{className:"container-paragraphInfo",children:Object(c.jsxs)("p",{className:"paragraphInfo",children:["\u0422\u0430\u043a\u0438\u0445 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a ","".concat(n)," \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0430\u0431\u043e \u0432\u0438 \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u0456\u043c'\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a."]})}),b&&Object(c.jsx)(f,{arrayImages:b,onSubmit:function(e,t){k([e,t]),B(!0)}}),U&&Object(c.jsx)(p,{onClose:function(){B(!U)},children:Object(c.jsx)("img",{src:N[0],alt:N[1]})}),Object(c.jsx)(l.a,{autoClose:3e3}),g&&Object(c.jsx)(S,{}),0!==b.length&&Object(c.jsx)(w,{onClick:function(){M(),setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)},children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0449\u0435"})]})}i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.d47ef5ba.chunk.js.map